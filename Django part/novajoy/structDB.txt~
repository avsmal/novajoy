BEGIN;
CREATE TABLE `Server_user` (
    `user_name` varchar(30) NOT NULL PRIMARY KEY,
    `password` varchar(50) NOT NULL,
    `email` varchar(75) NOT NULL
)
;
CREATE TABLE `Server_collection` (
    `id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY,
    `user_id` varchar(30) NOT NULL,
    `name_collection` varchar(30) NOT NULL,
    `update_time` time NOT NULL
)
;
ALTER TABLE `Server_collection` ADD CONSTRAINT `user_id_refs_user_name_7dbe6354` FOREIGN KEY (`user_id`) REFERENCES `Server_user` (`user_name`);
CREATE TABLE `Server_rssfeed_collection` (
    `id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY,
    `rssfeed_id` integer NOT NULL,
    `collection_id` integer NOT NULL,
    UNIQUE (`rssfeed_id`, `collection_id`)
)
;
ALTER TABLE `Server_rssfeed_collection` ADD CONSTRAINT `collection_id_refs_id_787a358e` FOREIGN KEY (`collection_id`) REFERENCES `Server_collection` (`id`);
CREATE TABLE `Server_rssfeed` (
    `id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY,
    `url` varchar(200) NOT NULL,
    `content` longtext,
    `date_adding` date NOT NULL
)
;
ALTER TABLE `Server_rssfeed_collection` ADD CONSTRAINT `rssfeed_id_refs_id_3566e62b` FOREIGN KEY (`rssfeed_id`) REFERENCES `Server_rssfeed` (`id`);
CREATE INDEX `Server_collection_403f60f` ON `Server_collection` (`user_id`);
COMMIT;
